<!DOCTYPE html>
<html lang="en">

<head>
  <title>Instagram Vote Counter</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: "Roboto", sans-serif;
      color: #333;
      padding: 0;
      margin-left: 1%;
    }

    textarea {
      font-family: "Roboto", sans-serif;
      padding: 8px
    }

    span {
      width: 100%;
      display: block;
    }

    button {
      margin-top: 1%;
      padding: 8px;
    }
  </style>

</head>

<body>

  <h1>Instagram Vote Counter</h1>
  <h2>Enter Votes in Text Area Below</h1>
  <span style="width:100%;display:block"><textarea name="name" rows="8" cols="80" placeholder="One comment per line..." id="votes"></textarea></span>
  <button type="button" name="button" onclick="count()">Count Votes</button>
  <p id="msg"></p>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">


 function count() {
   var A = 0;
   var B = 0;
   var C = 0;
   var D = 0;
   var E = 0;
   var F = 0;
   var G = 0;
   var H = 0;

   var calccounts = function(char) {
     if (char == 'A') {
       A++
     }
     if (char == 'B') {
       B++
     }
     if (char == 'C') {
       C++
     }
     if (char == 'D') {
       D++
     }
     if (char == 'E') {
       E++
     }
     if (char == 'F') {
       F++
     }
     if (char == 'G') {
       G++
     }
     if (char == 'H') {
       H++
     }
   }

   var lines = $('textarea').val().split('\n');
   var characters = ['A','B','C','D','E','F','G','H'];
   var letters = 0;
   var str = '';
   var substr = '';
   var voters = [];
   var voted = false;
   var votecount = 0;

loop1:
  for (var i = 0; i < lines.length; i++) {
    letters = lines[i].length;
    voted = false;
    str = lines[i];
loop2:
      for (var k = 0; k < letters; k++) {
loop3:
        for (var j = 0; j < characters.length; j++) {
        if (characters[j] == str.charAt(k)) {

          substr = str.slice(0, k);
          for (var l = 0; l < voters.length; l++) {
            if (voters[l] == substr) {
              voted = true;
              votecount++;
            }
          }
          if (voted == false) {
            calccounts(characters[j]);
            if (substr.length > 0) {
              voters.push(substr);
            }
          }
          break loop2;
        }
      }

    }
  }

  var highest = A;
  var hstr = 'A';

  if (highest < B) {
    highest = B
    hstr = 'B'
  }
  if (highest < C) {
    highest = C
    hstr = 'C'
  }
  if (highest < D) {
    highest = D
    hstr = 'D'
  }
  if (highest < E) {
    highest = E
    hstr = 'E'
  }
  if (highest < F) {
    highest = F
    hstr = 'F'
  }
  if (highest < G) {
    highest = G
    hstr = 'G'
  }
  if (highest < H) {
    highest = H
    hstr = 'H'
  }

  $('#msg').empty();
  $('#msg').append('A: '+A+'<br>');
  $('#msg').append('B: '+B+'<br>');
  $('#msg').append('C: '+C+'<br>');
  $('#msg').append('D: '+D+'<br>');
  $('#msg').append('E: '+E+'<br>');
  $('#msg').append('F: '+F+'<br>');
  $('#msg').append('G: '+G+'<br>');
  $('#msg').append('H: '+H+'<br><br>');
  $('#msg').append(votecount+' votes were ignored due to multiple user votes. <br><br>');
  $('#msg').append('Winner is <strong>'+hstr+'</strong> with <strong>'+highest+'</strong> votes.<br>');

 }

</script>

</body>

</html>
